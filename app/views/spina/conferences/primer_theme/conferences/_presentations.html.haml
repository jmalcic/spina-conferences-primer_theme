- cache [@conference.presentations, @presentation_type, @presentation_type.presentations,
         @presentation_type.presentations.collect(&:presenters), @tab] do
  = render Primer::FlexComponent.new(direction: [:column, nil, nil, :row], my: 4) do
    = render Primer::FlexItemComponent.new(pr: [nil, nil, nil, 4], mb: [4, nil, nil, 0], col: [12, nil, nil, 3]) do
      %ul.filter-list
        - cache [@conference.presentations, @presentation_type] do
          %li
            = link_to frontend_conference_url(@conference, tab: 'presentations'),
                      class: 'filter-item', aria: { current: @presentation_type == @conference ? 'page' : nil } do
              = t('.all_presentation_types')
              %span.count{ title: t(:'.results') }= @conference.presentations.count
        = render partial: 'presentation_type', collection: @conference.presentation_types.sorted,
                 cached: -> presentation_type { [presentation_type, @presentation_type] }
      - if @presentation_type.presentations.any?
    = render Primer::FlexItemComponent.new(col: [12, nil, nil, 9]) do
        %filter-input{ aria: { owns: 'presentation_list' } }
          .subnav.subnav-flush
            .subnav-search.float-left.ml-0
              = search_field_tag 'search', nil, class: %w[form-control subnav-search-input], aria: { label: t(:'.search') }
              = octicon 'search', class: 'subnav-search-icon'
      %div{ id: 'presentation_list' }
        - if @presentation_type.presentations.any?
          %ul{ class: dom_class(@presentation_type.presentations), data: { filter: { list: true } } }
            = render partial: 'presentation', collection: @presentation_type.presentations.sorted, layout: 'list_item',
                     locals: { conference: @conference }, cached: -> presentation { [presentation, presentation.presenters] }
        - else
          = render Primer::BlankslateComponent.new(title: t(:'.no_presentations'), icon: 'mortar-board')
        = render Primer::BlankslateComponent.new(title: t(:'.no_matching_presentations'), icon: 'mortar-board', hidden: true,
                                                 data: { 'filter-empty-state': true })
