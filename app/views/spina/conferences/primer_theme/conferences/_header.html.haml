- cache [@conference, @conference.institutions, @conference.parts.collect(&:partable), @conference.content(:gallery)&.images,
         @conference.content(:sponsors)&.structure_items,
         @conference.content(:sponsors)&.structure_items&.collect_concat(&:structure_parts)&.collect(&:structure_partable)] do
  .container-lg.p-responsive.mb-4{ class: dom_class(@conference), id: dom_id(@conference) }
    = render(Primer::HeadingComponent.new( mb: [1, nil, 2, nil])) { @conference.name }
    %ul.text-gray-dark.list-style-none.d-flex.flex-column.flex-sm-row.flex-wrap
      %li.mr-sm-3.mb-1
        = render Primer::OcticonComponent.new(icon: 'calendar')
        = t :'.dates_html', start_date: time_tag(@conference.start_date, format: :date), finish_date: time_tag(@conference.finish_date)
      - if @conference.institutions.any?
        - cache @conference.institutions do
          %li.mb-1
            = render Primer::OcticonComponent.new(icon: 'location')
            = render Primer::BaseComponent.new(tag: :address, display: :inline) do
              = t :'.locations', institutions: @conference.institutions.pluck(:name).to_sentence,
                                 cities: @conference.institutions.pluck(:city).uniq.to_sentence
    - if @conference.institutions.any?
      %ul.list-style-none.d-flex.flex-wrap.mt-4{ class: dom_class(@conference.institutions) }
        = render partial: 'institution', collection: @conference.institutions,
                 cached: -> institution { [institution, institution.logo] }
    - cache [partable_for(:sponsors, parent: @conference), @conference.content(:sponsors)&.structure_items,
               @conference.content(:sponsors)&.structure_items&.collect_concat(&:structure_parts)&.collect(&:structure_partable)] do
      - if @conference.has_content?(:sponsors) && @conference.content(:sponsors).structure_items.any?
        = render partial: 'sponsors', object: @conference.content(:sponsors)
  - cache [partable_for(:gallery, parent: @conference), @conference.content(:gallery)&.images] do
    - if @conference.has_content? :gallery
      .mb-4= render partial: 'image_collection', object: @conference.content(:gallery), locals: { controls: true }
